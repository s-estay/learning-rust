## What is this?
Notes, small test programs and resources related to my journey learning Rust.

## Install Rust
Install [rustup](https://rustup.rs), Rust's toolchain manager. Installing Rust using `rustup` will also install `cargo` (package manager) and `rustc` (compiler). Update `rustup` like this:
```terminal
rustup update
rustc --version
```

## IDE
Get an IDE or text editor. I'll be using [Zed](https://zed.dev).

### Zed settings.json
```json
{
  "theme": {
    "mode": "system",
    "dark": "Sandcastle",
    "light": "One Light"
  },

  "soft_wrap": "editor_width",
  "tab_size": 2,
  "hard_tabs": false,
  "format_on_save": "off",

  "vim_mode": true,
  "relative_line_numbers": true
}
```

### Zed keymap.json (work in progress)
```json
[
  {
    "context": "Editor && vim_mode == insert && !menu",
    "bindings": {
      "jj": "vim::NormalBefore"
    }
  }
]
```

## hello-world
- `mkdir hello-world`
- `cd hello-world`
- `touch main.rs`
```rust
fn main() {
  println!("hello world");
}
```
- `rustc main.rs && ./main` : build and run

## hello-cargo
- `cargo new hello-cargo` : create new project
- `cd hello-cargo`
- `cargo build && ./target/debug/hello-cargo` : build and run in two steps
- `cargo check` : check for errors (fast, doesn't produce executable)
- `cargo run` : build and run in one step
- `cargo build --release` : build for release

## Crates
- [crates.io](https://crates.io/)
- Add crate in `Cargo.toml`
- `cargo build`
- `cargo update`

## .gitignore
```
# Generated by cargo
target/
```

## cargo.lock
"When you build a project for the first time, Cargo figures out all the versions of the dependencies that fit the criteria and then writes them to the Cargo.lock file. When you build your project in the future, Cargo will see that the Cargo.lock file exists and will use the versions specified there. This lets you have a reproducible build automatically."
- Ignore `cargo.lock` and update crate: `cargo update`. This will update `cargo.lock`

## variables

### Variables
- Variables are immutable by default
- `let x = 1;` : immutable variable
- `let mut x = 1;` : mutable variable
```rust
fn main() {
  let mut x = 1;
  println!("The value of x is: {x}"); // prints 1
  x = 2;
  println!("The value of x is: {x}"); // prints 2
}
```

### Constants
- Constants are always immutable
- The type must be annotated
- `const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;`

### Shadowing
- Definition : declare a new variable with the same name as a previous variable
- By using `let`, we can perform a few transformations on a value but have the variable be immutable after those transformations have been completed
```rust
fn main() {
  let x = 1;
  println!("The value of x is: {x}"); // prints 1
  let x = x + 1;
  println!("The value of x is: {x}"); // prints 2
}
```
- We can change the type of the value and reuse the same name
```rust
fn main() {
  let abc = "abc";
  println!("text: {abc}"); // print string type
  let abc = abc.len();
  println!("text: {abc}"); // print number type
}
```

## References
- [The Rust Programming Language](https://doc.rust-lang.org/stable/book/title-page.html)
- [A half-hour to learn Rust](https://fasterthanli.me/articles/a-half-hour-to-learn-rust)
